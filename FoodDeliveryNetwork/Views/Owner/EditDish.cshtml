@using FoodDeliveryNetwork.Web.ViewModels.Owner;

@model DishFormModel

@using (Html.BeginForm("ЕditDishSubmit", "Owner", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    <div class="form-group">
        @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label" })
        @Html.TextBoxFor(model => model.Name, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "control-label" })
        @Html.TextBoxFor(model => model.Description, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Price, htmlAttributes: new { @class = "control-label" })
        @Html.TextBoxFor(model => model.Price, new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label for="formFile" class="form-label">Dish image</label>
        @Html.TextBoxFor(model=> model.Image, new {type = "file", id = "formFile", accept="image/jpeg, image/png", @class="form-control" })
        <small class="form-text text-muted">Accepts JPG and PNG files under 5MB.</small>
        @Html.ValidationMessageFor(model => model.Image, "", new { @class = "text-danger" })
    </div>

    <div class="alert alert-light" role="alert">
        If no new image is selected, the old one will be used.
    </div>

    @Html.HiddenFor(model => model.DishId)
    @Html.HiddenFor(model => model.RestaurantId)

    <div class="d-flex mt-2">
        <input type="submit" value="Edit" class="btn btn-primary ms-auto" />
    </div>
}

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}